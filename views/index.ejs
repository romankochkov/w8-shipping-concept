<!DOCTYPE html>
<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap-grid.min.css" rel="stylesheet"
        crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">

    <script src="https://kit.fontawesome.com/e4296cb2af.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <style>
        .fog {
            width: 100%;
            height: 100vh;
            position: fixed;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
        }

        .fog .loader {
            width: 50px;
            aspect-ratio: 1;
            border-radius: 50%;
            border: 8px solid lightblue;
            border-right-color: #e62964;
            animation: l2 1s infinite linear;

            position: absolute;
            top: 48%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        @keyframes l2 {
            to {
                transform: translate(-50%, -50%) rotate(1turn);
            }
        }

        .global-save {
            width: 50px;
            height: 50px;
            background-color: #e62964;
            border-radius: 2px;
            position: absolute;
            right: 20px;
            bottom: 70px;
            cursor: pointer;
            user-select: none;
        }

        .global-save:hover {
            background-color: rgb(241, 105, 148);
        }

        .global-save i {
            position: absolute;
            top: 48%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffffff;
            font-size: 20px;
        }

        .copied {
            background-color: #e62964;
            border-radius: 2px;
            position: absolute;
            right: 20px;
            bottom: 20px;
            color: #fff;
            font-weight: 600;
            padding-top: 7px;
            padding-left: 30px;
            padding-right: 30px;
            padding-bottom: 9px;
            user-select: none;
            opacity: 0;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        body {
            font-family: "Open Sans", sans-serif;
            margin: 0;
        }

        nav {
            height: 68px;
            position: relative;
            background-color: #ed1261;
            border-bottom: 3px solid #f4f6f8;
            margin-bottom: 20px;
        }

        nav .logo {
            height: 56px;
            padding-bottom: 4px;
            cursor: pointer;
        }

        nav .user {
            position: relative;
            user-select: none;
            cursor: pointer;
        }

        nav .user i {
            position: relative;
            font-size: 24px;
            color: #ffffff;
        }

        nav .user:hover i {
            color: #c0c0c0;
        }

        nav .back {
            position: relative;
            margin-right: 30px;
            user-select: none;
            cursor: pointer;
        }

        nav .back:hover i {
            color: #c0c0c0;
        }

        nav .back i {
            position: relative;
            font-size: 24px;
            color: #ffffff;
        }

        .container {
            box-sizing: border-box !important;
        }

        .search-box {
            background-color: #ffffff;
            border: 3px solid #f4f6f8;
            padding: 4px;
            margin-bottom: 20px;
            box-sizing: border-box;
        }

        .search-box .switch {
            width: 60px;
            height: 26px;
            background-color: #e62964;
            border-radius: 2px;
            color: #ffffff;
            font-weight: 600;
            display: inline-flex;
            box-sizing: border-box;
            justify-content: center;
            align-items: baseline;
            margin-bottom: 5px;
            cursor: pointer;
            user-select: none;
        }

        .search-box .switch:hover {
            background-color: rgb(241, 105, 148);
        }

        .search-box .clear {
            width: 60px;
            height: 26px;
            position: relative;
            background-color: #c0c0c0;
            border-radius: 2px;
            color: #ffffff;
            font-weight: 600;
            display: inline-flex;
            box-sizing: border-box;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }

        .search-box .clear:hover {
            background-color: #9c9c9c;
        }

        .search-box .clear i {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffffff;
            font-size: 12px;
        }

        .search-box .search {
            width: 170px;
            height: 26px;
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 14px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            text-transform: uppercase;
            box-sizing: border-box;
        }

        .search-box .search:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        .search-box .enter {
            width: 60px;
            height: 26px;
            position: relative;
            background-color: #c0c0c0;
            border-radius: 2px;
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 5px;
            display: inline-flex;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }

        .search-box .enter:hover {
            background-color: #9c9c9c;
        }

        .search-box .enter i {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffffff;
            font-size: 14px;
        }

        .search-box .pay {
            width: 60px;
            height: 26px;
            position: relative;
            background-color: #c0c0c0;
            border-radius: 2px;
            color: #ffffff;
            font-weight: 600;
            display: inline-flex;
            box-sizing: border-box;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }

        .search-box .pay:hover {
            background-color: #9c9c9c;
        }

        .search-box .pay .pay-confirm {
            width: 34px;
            height: 26px;
            position: absolute;
            top: 0;
            right: calc(100% + 10px);
            background-color: #c0c0c0;
            border-radius: 2px;
        }

        .search-box .pay .pay-confirm:hover {
            background-color: #9c9c9c;
        }

        .search-box .pay .pay-confirm i {
            position: absolute;
            top: 48%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
        }

        .table-box {
            height: calc(100vh - 250px);
            overflow-x: scroll;
            scrollbar-color: #d6d6d6 #ffffff;
            scrollbar-width: thin;
            background-color: #f4f6f8;
            border: 3px solid #f4f6f8;
            padding-bottom: 20px;
        }

        table,
        th,
        td {
            border: 4px solid white;
            border-collapse: collapse;
            color: #47494b;
            font-size: 14px;
            font-weight: 600;
        }

        th,
        td {
            background-color: #f4f6f8;
            padding-top: 8px;
            padding-left: 20px;
            padding-right: 20px;
            padding-bottom: 10px;
        }

        select {
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 14px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            cursor: pointer;
        }

        select:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        input[type="date" i] {
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 14px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            cursor: pointer;
        }

        input[type="date" i]:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        input[type="number" i] {
            width: 50px;
            background-color: #f4f6f8;
            -webkit-appearance: none;
            -moz-appearance: textfield;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 14px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            text-align: center;
        }

        input[type="number" i]:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        .title-number {
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 14px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            text-align: center;
            text-transform: uppercase;
        }

        .title-number:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        .title-state {
            width: 50px;
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 14px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            text-align: center;
            text-transform: uppercase;
        }

        .title-state:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        .title {
            color: #e62964;
            font-weight: 700;
        }

        .select-all {
            position: relative;
            cursor: pointer;
        }

        .select-all i {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 18px;
        }

        .status-ok {
            background-color: #e4f2e4;
            padding-top: 10px;
            padding-left: 15px;
            padding-right: 15px;
            padding-bottom: 10px;
        }

        .status-ok i {
            color: #5cb85c;
            font-size: 16px;
        }

        .status-payment {
            background-color: #f1eafa;
            padding-top: 10px;
            padding-left: 15px;
            padding-right: 15px;
            padding-bottom: 10px;
        }

        .status-payment i {
            color: #ba9ce7;
            font-size: 16px;
        }

        .status-warning {
            background-color: #fff7d8;
            padding-top: 10px;
            padding-left: 15px;
            padding-right: 15px;
            padding-bottom: 10px;
        }

        .status-warning i {
            color: #FFCB00;
            font-size: 16px;
        }

        .title-left-auction {
            position: relative;
        }

        .title-left-auction i {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-55%);
            color: #c0c0c0;
            font-size: 15px;
            cursor: pointer;
        }

        .title-left-auction i:hover {
            color: #e62964;
        }

        .title-delivery {
            position: relative;
        }

        .title-delivery i {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-55%);
            color: #c0c0c0;
            font-size: 15px;
            cursor: pointer;
        }

        .title-delivery i:hover {
            color: #e62964;
        }

        .pay-check input {
            transform: scale(1.1) translateY(1px);
        }

        .lot {
            position: relative;
            padding-right: 40px;
            cursor: pointer;
            user-select: none;
        }

        .lot:hover {
            text-decoration: underline;
        }

        .lot:hover .copy {
            color: #e62964;
        }

        .lot .copy {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-55%);
            color: #c0c0c0;
            font-size: 13px;
        }

        .vin {
            position: relative;
            padding-right: 40px;
            cursor: pointer;
            user-select: none;
        }

        .vin:hover {
            text-decoration: underline;
        }

        .vin:hover .copy {
            color: #e62964;
        }

        .vin .copy {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-55%);
            color: #c0c0c0;
            font-size: 13px;
        }

        .model {
            text-wrap: nowrap;
        }

        .row-min {
            min-width: 100px;
        }

        .auction {
            text-align: center;
        }

        .invoice {
            color: #5495ff;
            cursor: pointer;
        }

        .invoice:hover {
            text-decoration: underline;
        }

        .left-auction {
            position: relative;
            padding-right: 40px;
        }

        .left-auction .del {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-55%);
            color: #c0c0c0;
            font-size: 13px;
            cursor: pointer;
        }

        .left-auction .del:hover {
            color: #e62964;
        }

        .delivery {
            position: relative;
            padding-right: 40px;
        }

        .delivery .del {
            position: absolute;
            top: 50%;
            right: 16px;
            transform: translateY(-55%);
            color: #c0c0c0;
            font-size: 13px;
            cursor: pointer;
        }

        .delivery .del:hover {
            color: #e62964;
        }

        .check {
            position: relative;
            cursor: pointer;
        }

        .check:hover i {
            color: #9c9c9c;
        }

        .check i {
            position: absolute;
            top: 46%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #c0c0c0;
            font-size: 20px;
        }

        .company-notes {
            padding-bottom: 3.5px;
        }

        .company-notes textarea {
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 11px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
        }

        .company-notes textarea:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        .customer-notes {
            white-space: nowrap;
            padding-bottom: 3.5px;
        }

        .customer-notes textarea {
            background-color: #f4f6f8;
            color: #47494b;
            font-family: "Open Sans", sans-serif;
            font-size: 11px;
            font-weight: 600;
            border: 1.5px solid #c0c0c0;
            border-radius: 2px;
            padding-left: 5px;
            padding-right: 5px;
            margin-right: 5px;
        }

        .customer-notes textarea:focus {
            border: 1.5px solid #e62964;
            box-shadow: none;
            outline: none;
        }

        .customer-notes .button {
            background-color: #c0c0c0;
            border-radius: 2px;
            color: #ffffff;
            font-size: 11px;
            display: inline-block;
            text-align: center;
            padding-left: 4px;
            padding-right: 4px;
            padding-bottom: 1px;
            cursor: pointer;
            user-select: none;
        }

        .customer-notes .button:hover {
            background-color: #9c9c9c;
        }
    </style>

    <div class="fog" hidden>
        <div class="loader"></div>
    </div>

    <div class="global-save" onclick="Save();">
        <i class="fa-sharp fa-solid fa-file-check"></i>
    </div>

    <div id="copied" class="copied">
        Copied
    </div>

    <nav>
        <div class="container" style="height: 68px;">
            <div class="d-flex justify-content-between align-items-center" style="height: 68px;">
                <img class="logo" src="https://w8shipping.com/p/w8-logo.gif" onclick="window.location = '/';">
                <div class="d-flex">
                    <div class="back">
                        <i class="fa-sharp fa-solid fa-clock-rotate-left"></i>
                    </div>
                    <div class="user">
                        <i class="fa-sharp fa-solid fa-circle-user"></i>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section>
        <div class="container">
            <form id="search_form" action="/lot" method="post">
                <div class="search-box">
                    <div
                        style="display: inline-flex; flex-direction: column; vertical-align: top; box-sizing: border-box;">
                        <div class="switch" onclick="LotVin();">LOT</div>
                        <div class="pay" onclick="Pay();">
                            PAY
                            <div class="pay-confirm" hidden><i class="fa-sharp fa-regular fa-money-check-dollar"></i>
                            </div>
                        </div>
                    </div>

                    <div
                        style="width: calc(100% - 130px); display: inline-flex; flex-direction: column; box-sizing: border-box;">
                        <div style="display: flex; justify-content: space-around; margin-bottom: 5px;">
                            <input id="search_1" name="search" class="search" type="text" />
                            <input id="search_2" name="search" class="search" type="text" />
                            <input id="search_3" name="search" class="search" type="text" />
                            <input id="search_4" name="search" class="search" type="text" />
                            <input id="search_5" name="search" class="search" type="text" />
                            <input id="search_6" name="search" class="search" type="text" />
                        </div>

                        <div style="display: flex; justify-content: space-around;">
                            <input id="search_7" name="search" class="search" type="text" />
                            <input id="search_8" name="search" class="search" type="text" />
                            <input id="search_9" name="search" class="search" type="text" />
                            <input id="search_10" name="search" class="search" type="text" />
                            <input id="search_11" name="search" class="search" type="text" />
                            <input id="search_12" name="search" class="search" type="text" />
                        </div>
                    </div>

                    <div
                        style="display: inline-flex; flex-direction: column; vertical-align: top; box-sizing: border-box;">
                        <div class="enter" onclick="Search();"><i class="fa-sharp fa-solid fa-arrow-right-long"></i>
                        </div>
                        <div class="clear" onclick="Clear();"><i class="fa-sharp fa-solid fa-xmark-large"></i></div>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <section>
        <div class="container">
            <form id="data_form" action="/" method="post">
                <div class="table-box">
                    <table>
                        <tr>
                            <th class="title title-status"></th>
                            <th class="title select-all" onclick="SelectAll();" hidden><i
                                    class="fa-sharp fa-solid fa-ballot-check"></i></th>
                            <th class="title">LOT</th>
                            <th class="title">VIN</th>
                            <th class="title">MODEL</th>
                            <th class="title">YEAR</th>
                            <th class="title">SHIPPER</th>
                            <th class="title">TOWING COMPANY</th>
                            <th class="title">CLIENT</th>
                            <th class="title">AGENT</th>
                            <th class="title">PORT</th>
                            <th class="title">GROUP</th>
                            <th class="title">MIX STATUS</th>
                            <th class="title">TITLE STATUS</th>
                            <th class="title">TITLE NUMBER</th>
                            <th class="title">TITLE STATE</th>
                            <th class="title">STORAGE (DRIVER)</th>
                            <th class="title">STORAGE (OTHER)</th>
                            <th class="title">AUCTION</th>
                            <th class="title">BUYER</th>
                            <th class="title">INVOICE</th>
                            <th class="title">COLOR</th>
                            <th class="title title-left-auction">LEFT AUCTION<i
                                class="fa-sharp fa-regular fa-calendar-arrow-down" onclick="LeftAuctionAll();"</th>
                            <th class="title title-delivery">DELIVERY<i
                                    class="fa-sharp fa-regular fa-calendar-arrow-down" onclick="DeliveryAll();"></i>
                            </th>
                            <th class="title">PAYMENT</th>
                            <th class="title">CHECK</th>
                            <th class="title">COMPANY NOTES</th>
                            <th class="title">CUSTOMER NOTES</th>
                        </tr>
                        <% vehicles.forEach(vehicle=> { %>
                            <tr>
                                <% if (vehicle.paid==1 && vehicle.title_status && vehicle.color && vehicle.left_auction
                                    && vehicle.delivery) { %>
                                    <td class="status status-ok"><i class="fa-sharp fa-solid fa-circle-check"></i></td>
                                    <% } else if (vehicle.title_status && vehicle.color && vehicle.left_auction &&
                                        vehicle.delivery) { %>
                                        <td class="status status-payment"><i
                                                class="fa-sharp fa-solid fa-circle-dollar"></i>
                                        </td>
                                        <% } else { %>
                                            <td class="status status-warning"><i
                                                    class="fa-sharp fa-solid fa-circle-exclamation"></i>
                                            </td>
                                            <% } %>
                                                <td class="pay-check" hidden><input class="pay-check-id"
                                                        pay-id="<%= vehicle.id %>" type="checkbox" /></td>

                                                <td class="lot" onclick="Copied(`<%= vehicle.lot %>`);">
                                                    <%= vehicle.lot %>
                                                        <div class="copy"><i class="fa-sharp fa-solid fa-copy"></i>
                                                        </div>
                                                </td>
                                                <td class="vin" onclick="Copied(`<%= vehicle.vin %>`);">
                                                    <%= vehicle.vin %>
                                                        <div class="copy"><i class="fa-sharp fa-solid fa-copy"></i>
                                                        </div>
                                                </td>
                                                <td class="model">
                                                    <%= vehicle.model %>
                                                </td>
                                                <td>
                                                    <%= vehicle.year %>
                                                </td>
                                                <td style="text-wrap: nowrap;">Janis | NY</td>
                                                <td>
                                                    <%= vehicle.towing_company %>
                                                </td>
                                                <td class="row-min" <% if (vehicle.agent) { %>style="text-decoration: line-through;"<% }
                                                        %>>
                                                        <%= vehicle.client %>
                                                </td>
                                                <td>
                                                    <%= vehicle.agent %>
                                                </td>
                                                <td style="text-wrap: nowrap;">
                                                    <%= vehicle.port %>
                                                </td>
                                                <td class="row-min" <% if (vehicle.client_group == vehicle.client) { %>style="text-decoration: line-through;"<% } %>>
                                                    <%= vehicle.client_group %>
                                                </td>
                                                <td style="text-align: center;">
                                                    <% if (vehicle.mix==1) { %>MIX<% } %>
                                                </td>
                                                <td>
                                                    <select name="title_status-<%= vehicle.id %>">
                                                        <option></option>
                                                        <option <% if (vehicle.title_status=='YES' ) { %>selected<% } %>
                                                                >YES
                                                        </option>
                                                        <option <% if (vehicle.title_status=='NO' ) { %>selected<% } %>
                                                                >NO
                                                        </option>
                                                        <option <% if (vehicle.title_status=='LOA' ) { %>selected<% } %>
                                                                >LOA
                                                        </option>
                                                    </select>
                                                </td>
                                                <td><input class="title-number" type="text"
                                                        name="title_number-<%= vehicle.id %>"
                                                        value="<%= vehicle.title_number %>" />
                                                </td>
                                                <td><input class="title-state" type="text"
                                                        name="title_state-<%= vehicle.id %>" maxlength="2"
                                                        value="<%= vehicle.title_state %>" /></td>
                                                <td><input type="number" name="storage_driver-<%= vehicle.id %>"
                                                        placeholder="0" min="0" value="<%= vehicle.storage_driver %>" />
                                                </td>
                                                <td><input type="number" name="storage_other-<%= vehicle.id %>"
                                                        placeholder="0" min="0" value="<%= vehicle.storage_other %>" />
                                                </td>
                                                <td class="auction">
                                                    <% if (vehicle.auction=='Copart' ) { %>
                                                        <img style="height: 20px; margin-top: 4px;"
                                                            src="/img/copart.png" />
                                                        <% } else if (vehicle.auction=='IAAI' ) { %>
                                                            <img style="height: 20px; margin-top: 4px; margin-left: 4px;"
                                                                src="/img/iaai.png" />
                                                            <% } %>
                                                </td>
                                                <td class="invoice" onclick="window.open('/check');">
                                                    <%= vehicle.buyer %>
                                                </td>
                                                <td class="invoice" onclick="window.open('/check');">invoice-3456.pdf
                                                </td>
                                                <td>
                                                    <select name="color-<%= vehicle.id %>">
                                                        <option value="" <%=!vehicle.color ? 'selected' : '' %>>
                                                        </option>
                                                        <option value="black" <%=vehicle.color==='black' ? 'selected'
                                                            : '' %>>Black</option>
                                                        <option value="white" <%=vehicle.color==='white' ? 'selected'
                                                            : '' %>>White</option>
                                                        <option value="gray" <%=vehicle.color==='gray' ? 'selected' : ''
                                                            %>
                                                            >Gray</option>
                                                        <option value="silver" <%=vehicle.color==='silver' ? 'selected'
                                                            : '' %>>Silver</option>
                                                        <option value="blue" <%=vehicle.color==='blue' ? 'selected' : ''
                                                            %>
                                                            >Blue</option>
                                                        <option value="red" <%=vehicle.color==='red' ? 'selected' : ''
                                                            %>
                                                            >Red</option>
                                                        <option value="brown" <%=vehicle.color==='brown' ? 'selected'
                                                            : '' %>>Brown</option>
                                                        <option value="green" <%=vehicle.color==='green' ? 'selected'
                                                            : '' %>>Green</option>
                                                        <option value="yellow" <%=vehicle.color==='yellow' ? 'selected'
                                                            : '' %>>Yellow</option>
                                                        <option value="gold" <%=vehicle.color==='gold' ? 'selected' : ''
                                                            %>
                                                            >Gold</option>
                                                        <option value="beige" <%=vehicle.color==='beige' ? 'selected'
                                                            : '' %>>Beige</option>
                                                        <option value="orange" <%=vehicle.color==='orange' ? 'selected'
                                                            : '' %>>Orange</option>
                                                        <option value="purple" <%=vehicle.color==='purple' ? 'selected'
                                                            : '' %>>Purple</option>
                                                        <option value="pink" <%=vehicle.color==='pink' ? 'selected' : ''
                                                            %>
                                                            >Pink</option>
                                                        <option value="bronze" <%=vehicle.color==='bronze' ? 'selected'
                                                            : '' %>>Bronze</option>
                                                        <option value="maroon" <%=vehicle.color==='maroon' ? 'selected'
                                                            : '' %>>Maroon</option>
                                                        <option value="turquoise" <%=vehicle.color==='turquoise'
                                                            ? 'selected' : '' %>>Turquoise</option>
                                                        <option value="burgundy" <%=vehicle.color==='burgundy'
                                                            ? 'selected' : '' %>>Burgundy</option>
                                                        <option value="teal" <%=vehicle.color==='teal' ? 'selected' : ''
                                                            %>
                                                            >Teal</option>
                                                        <option value="cream" <%=vehicle.color==='cream' ? 'selected'
                                                            : '' %>>Cream</option>
                                                    </select>
                                                </td>
                                                <td class="left-auction"><input type="date"
                                                        name="left_auction-<%= vehicle.id %>"
                                                        value="<%= vehicle.left_auction %>" />
                                                    <div class="del"
                                                        onclick="$(`input[name='left_auction-<%= vehicle.id %>']`).val('');">
                                                        <i class="fa-sharp fa-solid fa-xmark-large"></i>
                                                </td>
                                                <td class="delivery"><input type="date"
                                                        name="delivery-<%= vehicle.id %>"
                                                        value="<%= vehicle.delivery %>" />
                                                    <div class="del"
                                                        onclick="$(`input[name='delivery-<%= vehicle.id %>']`).val('');">
                                                        <i class="fa-sharp fa-solid fa-xmark-large"></i>
                                                </td>
                                                <td><input type="number" placeholder="0" min="0"
                                                        name="payment-<%= vehicle.id %>"
                                                        value="<%= vehicle.payment %>" />
                                                </td>
                                                <% if (vehicle.paid==1) { %>
                                                    <td class="check" onclick="window.open('/check');"><i
                                                            class="fa-sharp fa-solid fa-envelope-open-dollar"></i></td>
                                                    <% } else { %>
                                                        <td class="check"></td>
                                                        <% } %>
                                                            <td class="company-notes">
                                                                <textarea id="company_note_<%= vehicle.id %>" name="company_notes-<%= vehicle.id %>"><%= vehicle.company_notes %>
                                                                </textarea>
                                                            </td>
                                                            <td class="customer-notes">
                                                                <textarea id="customer_note_<%= vehicle.id %>" name="customer_notes-<%= vehicle.id %>"><%= vehicle.customer_notes %>
                                                                </textarea>
                                                                <div
                                                                    style="display: inline-flex; flex-direction: column; vertical-align: top;">
                                                                    <div class="button" style="margin-bottom: 3.5px;"
                                                                        onclick="CustomerNote($('#customer_note_<%= vehicle.id %>'), 'Placed on hold due to missing BOS. RK');">
                                                                        BOS</div>
                                                                    <div class="button"
                                                                        onclick="CustomerNote($('#customer_note_<%= vehicle.id %>'), 'Payment on hold until the rest of cars on the dispatch sheet are delivered. RK');">
                                                                        DIS</div>
                                                                </div>

                                                            </td>
                            </tr>
                            <% }); %>
                    </table>
                </div>
            </form>
        </div>
    </section>

    <script>
        let LOTVIN = 0;

        function LotVin() {
            if (LOTVIN == 0) {
                $('#search_form').attr('action', '/vin');
                $('.switch').text('VIN');

                LOTVIN = 1;
            } else {
                $('#search_form').attr('action', '/lot');
                $('.switch').text('LOT');

                LOTVIN = 0;
            }
        }

        function Clear() {
            $('#search_1').val("");
            $('#search_2').val("");
            $('#search_3').val("");
            $('#search_4').val("");
            $('#search_5').val("");
            $('#search_6').val("");
            $('#search_7').val("");
            $('#search_8').val("");
            $('#search_9').val("");
            $('#search_10').val("");
            $('#search_11').val("");
            $('#search_12').val("");
        }

        function Copied(text) {
            var $temp = $("<input>");
            $("body").append($temp);
            $temp.val(text).select();
            document.execCommand("copy");
            $temp.remove();

            $('#copied').animate({ "opacity": 1 }, 100, function () { $('#copied').delay(500).animate({ "opacity": 0 }, 100) });
        }

        function Pay() {
            $('.pay').attr('onclick', 'SubmitPay();');

            $('.status').attr('hidden', true);
            $('.pay-check').removeAttr('hidden');
            $('.pay-confirm').removeAttr('hidden');

            $('.title-status').attr('hidden', true);
            $('.select-all').removeAttr('hidden');
        }

        function SelectAll() {
            $('.pay-check input').attr('checked', 'checked');
        }

        function LeftAuctionAll() {
            let today = new Date();
            $('.left-auction input').val(today.getFullYear() + '-' + ('0' + (today.getMonth() + 1)).slice(-2) + '-' + ('0' + today.getDate()).slice(-2));
        }

        function DeliveryAll() {
            let today = new Date();
            $('.delivery input').val(today.getFullYear() + '-' + ('0' + (today.getMonth() + 1)).slice(-2) + '-' + ('0' + today.getDate()).slice(-2));
        }

        function CustomerNote(element, text) {
            let today = new Date();
            $(element).val(($(element).val() + '\n' + ('0' + (today.getMonth() + 1)).slice(-2) + '/' + ('0' + today.getDate()).slice(-2) + ' ' + text).trim());
        }

        function SubmitPay() {
            $('.fog').removeAttr('hidden');

            setTimeout(
                function () {
                    let payIds = [];
                    $('.pay-check-id:checked').each(function () {
                        let payId = $(this).attr('pay-id');
                        if (payId) {
                            payIds.push(payId);
                        }
                    });

                    if (payIds.length > 0) {
                        let $form = $('<form>', {
                            action: '/pay',
                            method: 'POST',
                            style: 'display: none;'
                        });

                        // Создаем скрытое поле для передачи данных
                        let $input = $('<input>', {
                            type: 'hidden',
                            name: 'id',
                            value: JSON.stringify(payIds) // Преобразуем массив в строку
                        });

                        $form.append($input);

                        $('body').append($form);

                        $form.submit();

                        $form.remove();
                    } else {
                        $('.fog').attr('hidden', 'true');
                    }

                }, 1000);
        }

        function Save() {
            $('.fog').removeAttr('hidden');
            setTimeout(
                function () {
                    $('#data_form').submit();
                }, 1000);
        }

        function Search() {
            $('.fog').removeAttr('hidden');
            setTimeout(
                function () {
                    $('#search_form').submit();
                }, 1000);
        }
    </script>
</body>

</html>